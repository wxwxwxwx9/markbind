<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.17.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MarkBind - Architecture</title>
  <link rel="stylesheet" href="../../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../../markbind/css/octicons.css">
  <link rel="stylesheet" href="../../markbind/css/codeblock-light.min.css">
  <link rel="stylesheet" href="../../markbind/css/markbind.min.css">
  <script src="../../markbind/js/polyfill.min.js"></script>
  <script src="../../markbind/js/vue.min.js"></script>
  <script src="../../markbind/js/markbind.min.js"></script>
  <script src="../../markbind/js/jquery.min.js"></script>
  <link rel="stylesheet" href="/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="icon" href="/favicon.ico">
</head>
<script>
  const baseUrl = ''
</script>

<body data-spy="scroll" data-target="#mb-page-nav" data-offset="100">
  <div id="app">
    <div>
      <header fixed>
        <navbar type="dark" class=" temp-navbar">
          <a slot="brand" href="/index.html" title="Home" class="navbar-brand"><img src="/images/logo-darkbackground.png" height="20"></a>
          <li><a highlight-on="exact" href="/index.html" class="nav-link">HOME</a></li>
          <div tags="environment--ug">
            <li><a highlight-on="sibling-or-child" href="/userGuide/index.html" class="nav-link">USER GUIDE</a></li>
          </div>
          <div tags="environment--dg">
            <li><a highlight-on="sibling-or-child" href="/devGuide/index.html" class="nav-link">DEVELOPER GUIDE</a></li>
          </div>
          <li><a highlight-on="exact" href="/showcase.html" class="nav-link">SHOWCASE</a></li>
          <li><a highlight-on="exact" href="/about.html" class="nav-link">ABOUT</a></li>
          <li>
            <a href="https://github.com/MarkBind/markbind" target="_blank" class="nav-link"><span><span aria-hidden="true" class="fab fa-github"></span></span></a></li>
          <li slot="right">
            <form class="navbar-form">
              <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
            </form>
          </li>
        </navbar>
      </header>
    </div>
    <div id="flex-body">
      <nav id="site-nav" class="fixed-header-padding">
        <div class="site-nav-top">
          <div class="font-weight-bold mb-2" style="font-size: 1.25rem;">Developer Guide</div>
        </div>
        <div class="nav-component slim-scroll">
          <site-nav>
            <ul class="site-nav-list site-nav-list-root">
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/devGuide/devGuide.html">Contributing</a></div>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/devGuide/settingUp.html">Setting up</a></div>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/devGuide/workflow.html">Workflow</a></div>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)">Design

                  <i class="site-nav-dropdown-btn-icon site-nav-rotate-icon" onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();">
                    <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></div>
                <ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list">
                  <li>
                    <div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/devGuide/design/projectStructure.html">Project Structure</a></div>
                  </li>
                  <li>
                    <div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/devGuide/design/architecture.html">Architecture</a></div>
                  </li>
                </ul>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/devGuide/writingPlugins.html">Writing Plugins</a></div>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/devGuide/projectManagement.html">Project management</a></div>
              </li>
              <li>
                <div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)">Appendices

                  <i class="site-nav-dropdown-btn-icon site-nav-rotate-icon" onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();">
                    <span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></div>
                <ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list">
                  <li>
                    <div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/devGuide/styleGuides.html">Style guides</a></div>
                  </li>
                </ul>
              </li>
            </ul>
          </site-nav>
        </div>
      </nav>
      <div id="content-wrapper" class="fixed-header-padding">
        <p><span id="title" class="d-none">Architecture</span></p>

        <h1 id="architecture"><span id="architecture" class="anchor"></span>Architecture<a class="fa fa-anchor" href="#architecture" onclick="event.stopPropagation()"></a></h1>
        <div class="lead mb-5">
          <p>This page provides an overview of the MarkBind's architecture.</p>
        </div>
        <p><a href="/images/dev%20diagrams/architecture.png" target="_self"><img src="/images/dev%20diagrams/architecture.png" alt class="img-fluid"></a></p>
        <p>The above diagram shows the key classes and <span data-mb-component-type="popover" v-b-popover.hover.top.html="popoverInnerGetters" class="trigger"><span data-mb-slot-name="content">The content processing flow acts on a <strong>single</strong> source file (<code class="hljs inline no-lang" v-pre>.md</code> / <code class="hljs inline no-lang" v-pre>.mbd</code> / <code class="hljs inline no-lang" v-pre>.html</code>), generating output files or intermediate processing results depending on the content type.</span>content processing flow</span> in MarkBind. You may note the following from these:</p>
        <h3 id="key-classes"><span id="key-classes" class="anchor"></span>Key classes<a class="fa fa-anchor" href="#key-classes" onclick="event.stopPropagation()"></a></h3>
        <p>The 3 key classes representing different types of content are as follows:</p>
        <ol>
          <li>
            <p><code class="hljs inline no-lang" v-pre>Page</code> — a page, as specified by the user in their various site configuration <code class="hljs inline no-lang" v-pre>glob</code> or <code class="hljs inline no-lang" v-pre>src</code> properties. These are directly managed by the <code class="hljs inline no-lang" v-pre>Site</code> instance.</p>
          </li>
          <li>
            <p><code class="hljs inline no-lang" v-pre>Layout</code> — a single layout file, as contained in the <code class="hljs inline no-lang" v-pre>_markbind/layouts</code> folder, collectively managed by <code class="hljs inline no-lang" v-pre>LayoutManager</code>.</p>
            <p>
              <box type="tip" seamless>Note that <code class="hljs inline no-lang" v-pre>Layout</code> instances do not generate any output files directly, but rather, they store intermediate processing results to be used in a <code class="hljs inline no-lang" v-pre>Page</code>.</box>
            </p>
          </li>
          <li>
            <p><code class="hljs inline no-lang" v-pre>External</code> — source files referenced in a <code class="hljs inline no-lang" v-pre>Page</code>, <code class="hljs inline no-lang" v-pre>Layout</code> or even another <code class="hljs inline no-lang" v-pre>External</code> that result in a <span data-mb-component-type="tooltip" v-b-tooltip.hover.top.html="tooltipInnerContentGetter" class="trigger"><span data-mb-slot-name="_content">hence the class naming <code class="hljs inline no-lang" v-pre>External</code></span><strong>separate</strong></span> output file. These output files are loaded dynamically and on-demand in the browser. These instances are managed by a single <code class="hljs inline no-lang" v-pre>ExternalManager</code> instance.</p>
            <p>
              <box type="info" seamless>For example, the file referenced by a <code class="hljs inline no-lang" v-pre>&lt;panel src=&quot;xx.md&quot;&gt;</code> generates a separate <code class="hljs inline no-lang" v-pre>xx._include_.html</code>, which is requested and loaded only when the panel is expanded.</box>
            </p>
          </li>
        </ol>
        <h3 id="content-processing-flow"><span id="content-processing-flow" class="anchor"></span>Content processing flow<a class="fa fa-anchor" href="#content-processing-flow" onclick="event.stopPropagation()"></a></h3>
        <p>Every <code class="hljs inline no-lang" v-pre>Page</code>, <code class="hljs inline no-lang" v-pre>Layout</code> and <code class="hljs inline no-lang" v-pre>External</code> follows the same overall content processing flow, that is:</p>
        <p><em>Nunjucks <span aria-hidden="true" class="fas fa-arrow-right"></span> Markdown <span aria-hidden="true" class="fas fa-arrow-right"></span> Html</em></p>
        <box type="info" seamless>
          <p>Note that generation of <code class="hljs inline no-lang" v-pre>External</code>s (e.g. <code class="hljs inline no-lang" v-pre>&lt;panel src=&quot;...&quot;&gt;</code>) <strong>do not fall within</strong> the content processing flow <ins>where they are <strong>referenced</strong></ins>.
            These are only flagged for generation, and then processed by <code class="hljs inline no-lang" v-pre>ExternalManager</code> <strong>after</strong>, in <strong>another</strong> similar content processing flow within an <code class="hljs inline no-lang" v-pre>External</code> instance.
          </p>
        </box>
        <p></p>
        <p><strong><strong>Rationale</strong></strong></p>
        <p>This simple three stage flow provides a simple, predictable content processing flow for the user, and removes several other development concerns:</p>
        <ol>
          <li>
            <p>As the templating language of choice, Nunjucks is always processed first, allowing its templating capabilities to be used to the full extent.
              Its syntax is also the most compatible and independent of the other stages.</p>
          </li>
          <li>
            <p>Secondly, Markdown is <strong>rendered before html</strong>, which produces more html. This also allows core Markdown features (e.g. code blocks) and Markdown plugins with eccentric syntaxes to be used without having to patch the html parser.</p>
          </li>
          <li>
            <p>Having processed possibly conflicting Nunjucks and Markdown syntax, Html is then processed last.</p>
          </li>
        </ol>
        <i class="fa fa-arrow-circle-up fa-lg d-print-none" id="scroll-top-button" onclick="handleScrollTop()" aria-hidden="true"></i>
      </div>
      <nav id="page-nav" class="fixed-header-padding">
        <div class="nav-component slim-scroll">

          <nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap">
            <a class="nav-link py-1" href="#architecture">Architecture&#x200E;</a>
            <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap">
              <a class="nav-link py-1" href="#key-classes">Key classes&#x200E;</a>
              <a class="nav-link py-1" href="#content-processing-flow">Content processing flow&#x200E;</a>
            </nav>

          </nav>

        </div>
      </nav>
    </div>
    <div>
      <footer>
        <div class="text-center">
          <small>[Generated by <a href="https://markbind.org/">MarkBind 2.17.0</a> on Thu, Feb 11, 2021, 2:46:23 AM GMT+8]</small><br>
          <small>This site is powered by <a href="https://www.netlify.com/">Netlify</a>.</small></div>
      </footer>
    </div>
  </div>
</body>
<script src="../../markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>

</html>